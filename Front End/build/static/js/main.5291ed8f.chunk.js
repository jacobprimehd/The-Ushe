(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,a,t){},49:function(e,a,t){e.exports=t(69)},54:function(e,a,t){},56:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(42),c=t.n(l),o=t(25),s=t(23),i=t(17),m=t(18),u=t(20),d=t(19),p=t(21),E=(t(54),function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("background")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"header-main"},"The Ushe"),r.a.createElement("h2",{className:"header-home"}," What's your Ushe?"),r.a.createElement("h3",{className:"header-second"}," Share your favorite food and drink orders with the world. "),r.a.createElement("button",{type:"button",class:"btn btn-outline-primary"},r.a.createElement("a",{href:"/login"},"Login")),r.a.createElement("button",{type:"button",class:"btn btn-outline-primary"},r.a.createElement("a",{href:"/register"},"Register")))}}]),a}(n.Component)),v=t(26),f=t.n(v),b=t(29),h=t(22),g=(t(56),function(e){var a=e.error;return r.a.createElement("p",null,a.message)}),N=t(71),y=t(24),w=t(15);function O(){var e=Object(y.a)(["\n  query($username: String!){\n    getUserInfo(username: $username){\n      _id\n      username\n      city\n      state\n      allergies\n      bio\n    }\n  }\n"]);return O=function(){return e},e}function S(){var e=Object(y.a)(["\n  query($username: String!){\n    getUserFav(username: $username){\n      _id\n      place\n      order\n      username\n    }\n\n  }\n"]);return S=function(){return e},e}function C(){var e=Object(y.a)(["\n  query {\n    getCurrentUser{\n      _id\n      username\n      city\n      state\n      allergies\n      bio\n    }\n  }\n\n"]);return C=function(){return e},e}function j(){var e=Object(y.a)(["\nmutation($username: String!, $password: String!){\n  signinUser(username: $username, password: $password){\n    token\n  }\n}"]);return j=function(){return e},e}function k(){var e=Object(y.a)(["\nmutation($email: String!,$password: String!, $username: String!, $city: String!,$state: String!, $allergies: String, $bio: String){\n  signupUser(email: $email, password: $password, username: $username, city: $city, state: $state, allergies: $allergies, bio: $bio){\n    token\n  }\n}\n"]);return k=function(){return e},e}function U(){var e=Object(y.a)(["\n  query {\n    getAllFavs {\n      place\n      order\n      createdDate\n      username\n    }\n  }\n"]);return U=function(){return e},e}function I(){var e=Object(y.a)(["\nmutation($place: String!, $order: String!, $username: String!){\n  addFav(place: $place,order: $order, username: $username){\n    place\n    order\n    createdDate\n    username\n  }\n}\n\n"]);return I=function(){return e},e}var x=Object(w.b)(I()),$=Object(w.b)(U()),A=Object(w.b)(k()),M=Object(w.b)(j()),F=Object(w.b)(C()),H=Object(w.b)(S()),D=Object(w.b)(O()),L={username:"",password:""},T=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state=Object(h.a)({},L),t.clearState=function(){t.setState(Object(h.a)({},L))},t.handleSubmit=function(e,a){e.preventDefault(),a().then(function(){var e=Object(b.a)(f.a.mark(function e(a){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,console.log(n),localStorage.setItem("token",n.signinUser.token),e.next=5,t.props.refetch();case 5:t.clearState(),t.props.history.push("/profile");case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())},t.validateForm=function(){var e=t.state,a=e.username,n=e.password;return!a||!n},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("background-register")}},{key:"render",value:function(){var e=this,a=this.state,t=a.username,n=a.password;return r.a.createElement("div",{className:"page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins"},r.a.createElement("div",{className:"wrapper wrapper--w680"},r.a.createElement("div",{className:"card card-4"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"title"},"Login"),r.a.createElement(N.a,{mutation:M,variables:{username:t,password:n}},function(a,l){l.data;var c=l.loading,o=l.error;return r.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t,a)}},r.a.createElement("div",{className:"row row-space"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Username"),r.a.createElement("input",{className:"input--style-4",type:"text",name:"username",onChange:function(a){return e.setState({username:a.target.value})},value:t}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("input",{className:"input--style-4",type:"password",name:"password",onChange:function(a){return e.setState({password:a.target.value})},value:n})))),r.a.createElement("div",{className:"p-t-15"},r.a.createElement("button",{className:"btn btn--radius-2 btn--blue",type:"submit",disabled:c||e.validateForm()},"Submit")),o&&r.a.createElement(g,{error:o}))})))))}}]),a}(n.Component),q=Object(s.g)(T),R=t(30),P=(t(63),{email:"",password:"",username:"",city:"",state:"",allergies:"",bio:""}),W=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state=Object(h.a)({},P),t.clearState=function(){t.setState(Object(h.a)({},P))},t.handleChange=function(e){var a=e.target,n=a.name,r=a.value;console.log(n,":",r),t.setState(Object(R.a)({},n,r))},t.handleSubmit=function(e,a){e.preventDefault(),a().then(function(){var e=Object(b.a)(f.a.mark(function e(a){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,console.log(n),localStorage.setItem("token",n.signupUser.token),e.next=5,t.props.refetch();case 5:t.clearState(),t.props.history.push("/profile");case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())},t.validateForm=function(){var e=t.state,a=e.email,n=e.password,r=e.username,l=e.city,c=e.state,o=e.bio;return!a||!n||!r||!l||!c||!o},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("background-register")}},{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.password,l=a.username,c=a.city,o=a.state,s=a.allergies,i=a.bio;return r.a.createElement("div",{className:"page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins"},r.a.createElement("div",{className:"wrapper wrapper--w680"},r.a.createElement("div",{className:"card card-4"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"title"},"Registration Form"),r.a.createElement(N.a,{mutation:A,variables:{email:t,password:n,username:l,city:c,state:o,allergies:s,bio:i}},function(a,m){m.data;var u=m.loading,d=m.error;return r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t,a)}},r.a.createElement("div",{className:"row row-space"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Username"),r.a.createElement("input",{className:"input--style-4",type:"text",name:"username",onChange:e.handleChange,value:l}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("input",{className:"input--style-4",type:"text",name:"email",onChange:e.handleChange,value:t})))),r.a.createElement("div",{className:"row row-space"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"input-group-icon"},r.a.createElement("input",{className:"input--style-4",type:"password",name:"password",onChange:e.handleChange,value:n})))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Allergies"),r.a.createElement("div",{className:"input-group-icon"},r.a.createElement("input",{className:"input--style-4",type:"text",name:"allergies",onChange:e.handleChange,value:s}))))),r.a.createElement("div",{className:"row row-space"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"City"),r.a.createElement("div",{className:"input-group-icon"},r.a.createElement("input",{className:"input--style-4",type:"text",name:"city",onChange:e.handleChange,value:c})))),r.a.createElement("div",{className:"col-6"},r.a.createElement("label",{className:"label"},"State"),r.a.createElement("div",{className:"rs-select2 js-select-simple select--no-search"},r.a.createElement("select",{name:"state",onChange:e.handleChange,value:o},r.a.createElement("option",{disabled:"disabled",selected:"selected"},"Choose option"),r.a.createElement("option",{value:"AL"},"Alabama"),r.a.createElement("option",{value:"AK"},"Alaska"),r.a.createElement("option",{value:"AZ"},"Arizona"),r.a.createElement("option",{value:"AR"},"Arkansas"),r.a.createElement("option",{value:"CA"},"California"),r.a.createElement("option",{value:"CO"},"Colorado"),r.a.createElement("option",{value:"CT"},"Connecticut"),r.a.createElement("option",{value:"DE"},"Delaware"),r.a.createElement("option",{value:"DC"},"District Of Columbia"),r.a.createElement("option",{value:"FL"},"Florida"),r.a.createElement("option",{value:"GA"},"Georgia"),r.a.createElement("option",{value:"HI"},"Hawaii"),r.a.createElement("option",{value:"ID"},"Idaho"),r.a.createElement("option",{value:"IL"},"Illinois"),r.a.createElement("option",{value:"IN"},"Indiana"),r.a.createElement("option",{value:"IA"},"Iowa"),r.a.createElement("option",{value:"KS"},"Kansas"),r.a.createElement("option",{value:"KY"},"Kentucky"),r.a.createElement("option",{value:"LA"},"Louisiana"),r.a.createElement("option",{value:"ME"},"Maine"),r.a.createElement("option",{value:"MD"},"Maryland"),r.a.createElement("option",{value:"MA"},"Massachusetts"),r.a.createElement("option",{value:"MI"},"Michigan"),r.a.createElement("option",{value:"MN"},"Minnesota"),r.a.createElement("option",{value:"MS"},"Mississippi"),r.a.createElement("option",{value:"MO"},"Missouri"),r.a.createElement("option",{value:"MT"},"Montana"),r.a.createElement("option",{value:"NE"},"Nebraska"),r.a.createElement("option",{value:"NV"},"Nevada"),r.a.createElement("option",{value:"NH"},"New Hampshire"),r.a.createElement("option",{value:"NJ"},"New Jersey"),r.a.createElement("option",{value:"NM"},"New Mexico"),r.a.createElement("option",{value:"NY"},"New York"),r.a.createElement("option",{value:"NC"},"North Carolina"),r.a.createElement("option",{value:"ND"},"North Dakota"),r.a.createElement("option",{value:"OH"},"Ohio"),r.a.createElement("option",{value:"OK"},"Oklahoma"),r.a.createElement("option",{value:"OR"},"Oregon"),r.a.createElement("option",{value:"PA"},"Pennsylvania"),r.a.createElement("option",{value:"RI"},"Rhode Island"),r.a.createElement("option",{value:"SC"},"South Carolina"),r.a.createElement("option",{value:"SD"},"South Dakota"),r.a.createElement("option",{value:"TN"},"Tennessee"),r.a.createElement("option",{value:"TX"},"Texas"),r.a.createElement("option",{value:"UT"},"Utah"),r.a.createElement("option",{value:"VT"},"Vermont"),r.a.createElement("option",{value:"VA"},"Virginia"),r.a.createElement("option",{value:"WA"},"Washington"),r.a.createElement("option",{value:"WV"},"West Virginia"),r.a.createElement("option",{value:"WI"},"Wisconsin"),r.a.createElement("option",{value:"WY"},"Wyoming")),r.a.createElement("div",{className:"select-dropdown"})))),r.a.createElement("div",{className:"row row-space"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"label"},"Tell Us About Yourself"),r.a.createElement("input",{className:"input--style-4 tell-more",type:"textarea",name:"bio",onChange:e.handleChange,value:i})))),r.a.createElement("div",{className:"p-t-15"},r.a.createElement("button",{className:"btn btn--radius-2 btn--blue",type:"submit",disabled:u||e.validateForm()},"Submit")),d&&r.a.createElement(g,{error:d}))})))))}}]),a}(n.Component),V=Object(s.g)(W);t(41),t(64);var Y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," USER INFO "),r.a.createElement("div",{className:"card-container"},r.a.createElement("h3",{className:"name"},r.a.createElement("i",{class:"random name"}," "),e.username),r.a.createElement("h4",{className:"location"}," ",e.city,", ",e.state," "),r.a.createElement("h5",{className:"bio"}," ",e.bio," ")))};t(65);var G=function(e){return console.log(e),r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"order-name"},r.a.createElement("i",{class:"random name"}," "),e.username),r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},e.place)),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("i",{class:"fas fa-utensils fa-xs"}),"  ",e.order)),r.a.createElement("div",{className:"card-body"}))},K=function(e){var a=e.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," FAVORITES ",r.a.createElement("i",{class:"fas fa-heart"})),r.a.createElement(N.b,{query:H,variables:{username:a}},function(e){var a=e.data,t=e.loading,n=e.error;return t?r.a.createElement("div",null,"Loading"):n?r.a.createElement("div",null,"Error"):(console.log(a),a.getUserFav.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{username:e.username,place:e.place,order:e.order}),r.a.createElement("br",null))}))}))},z=(t(66),function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"modal-wrapper",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",opacity:e.show?"1":"0"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-name"},"Add a New Ushe"),r.a.createElement("span",{className:"close-modal-btn",onClick:e.close},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,e.children)),r.a.createElement("div",{className:"modal-footer"})))}),J=function(e){return function(a){return function(t){return r.a.createElement(N.b,{query:F},function(n){var l=n.data;return n.loading?null:e(l)?r.a.createElement(a,t):r.a.createElement(s.a,{to:"/"})})}}};var _=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"../home"},"Home ",r.a.createElement("span",{class:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"../profile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"../feed"},"Feed"))))},B={order:"",place:"",isShowing:!1},X=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state=Object(h.a)({},B,{username:t.props.session.getCurrentUser.username,session:t.props.session.getCurrentUser}),t.openModalHandler=function(){t.setState({isShowing:!0})},t.closeModalHandler=function(){t.setState({isShowing:!1})},t.handleSubmit=function(e,a){a().then(function(e){var a=e.data;console.log(a)})},t.validateForm=function(){var e=t.state,a=e.username,n=e.order,r=e.place;return!a||!n||!r},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.session,n=a.username,l=a.order,c=a.place;return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement("h1",null," THE USHE"),r.a.createElement("h2",null," PROFILE "),r.a.createElement("div",{className:"profile"}),r.a.createElement("div",{className:"profile-section"},r.a.createElement(Y,{username:t.username,city:t.city,state:t.state,bio:t.bio}),r.a.createElement("div",{class:"friends-container"}),this.state.isShowing?r.a.createElement("div",{onClick:this.closeModalHandler,className:"back-drop"}):null,r.a.createElement("button",{className:"modal-btn",onClick:this.openModalHandler},"Add a New Ushe"," "),r.a.createElement("div",{class:"cards-container"},r.a.createElement(K,{username:t.username}))),this.state.isShowing?r.a.createElement("div",{onClick:this.closeModalHandler,className:"back-drop"}):null,r.a.createElement(N.a,{mutation:x,variables:{username:n,order:l,place:c}},function(a,t){t.data;var n=t.loading,o=t.error;return r.a.createElement(z,{className:"modal",show:e.state.isShowing,close:e.closeModalHandler},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t,a)}},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{className:"form-input",for:"formGroupExampleInput"},"Name of Place"),r.a.createElement("input",{type:"text",class:"form-control",id:"formGroupExampleInput",placeholder:"Name of Place",name:"place",onChange:function(a){return e.setState({place:a.target.value})},value:c})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{className:"form-input",for:"formGroupExampleInput"}," ","Add Your Order Name"),r.a.createElement("input",{type:"text",class:"form-control",id:"formGroupExampleInput",placeholder:"Name of Order",name:"order",onChange:function(a){return e.setState({order:a.target.value})},value:l}),r.a.createElement("button",{type:"submit",disabled:n||e.validateForm()},"submit")),o&&r.a.createElement(g,{error:o})),"         ")}))}}]),a}(n.Component),Z=J(function(e){return e&&e.getCurrentUser})(X);t(67);var Q=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("font",{size:"25",className:"card-title"},r.a.createElement("i",{class:"random name"}," ")," ",e.name," ",r.a.createElement("small",null," Ordered Their Ushe "),r.a.createElement("font",{size:"5"},r.a.createElement("i",{class:"fas fa-utensils fa-xs"})," ",e.order)),r.a.createElement("div",{className:"card-body"}),r.a.createElement("font",{size:"5"}," @ ",e.location),r.a.createElement("div",{className:"card-body"})))};t(68);var ee=function(e){return r.a.createElement("h1",{className:"title"},e.children)},ae=J(function(e){return e&&e.getCurrentUser})(function(e){e.session;return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(ee,null,"THE USHER"),r.a.createElement(N.b,{query:$},function(e){var a=e.data,t=e.loading,n=e.error;return t?r.a.createElement("div",null,"Loading"):n?r.a.createElement("div",null,"Error"):a.getAllFavs.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{location:e.place,name:e.username,order:e.order}),r.a.createElement("br",null))})}))}),te=function(e){return function(a){return r.a.createElement(N.b,{query:F},function(t){var n=t.data,l=t.loading,c=t.refetch;return l?null:(console.log(n),r.a.createElement(e,Object.assign({},a,{refetch:c,session:n})))})}},ne=t(5),re=J(function(e){return e&&e.getCurrentUser})(function(e){e.session;var a=e.match.params.username;return r.a.createElement(N.b,{query:D,variables:{username:a}},function(e){var a=e.data,t=e.loading,n=e.error;return t?r.a.createElement("div",null,"Loading"):n?r.a.createElement("div",null,"Error"):(console.log(a.getUserInfo),r.a.createElement("div",{className:"profile"},r.a.createElement("h1",null," THE USHE"),r.a.createElement("h2",null," PROFILE "),r.a.createElement("div",{className:"profile-section friends-container"},r.a.createElement(Y,{username:a.getUserInfo[0].username,city:a.getUserInfo[0].city,state:a.getUserInfo[0].state,bio:a.getUserInfo[0].bio})),r.a.createElement("div",{className:"Orders"},r.a.createElement("div",{className:"cards-container"},r.a.createElement(K,{username:a.getUserInfo[0].username})))))})}),le=Object(s.g)(re),ce=new w.a({uri:"https://the-ushe-server.herokuapp.com/graphql",fetchOptions:{credentials:"include"},request:function(e){var a=localStorage.getItem("token");e.setContext({headers:{authorization:a}})},onError:function(e){var a=e.networkError;a&&console.log("Network Error",a)}}),oe=te(function(e){var a=e.refetch,t=e.session;return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:E}),r.a.createElement(s.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(q,{refetch:a})}}),r.a.createElement(s.b,{exact:!0,path:"/register",render:function(){return r.a.createElement(V,{refetch:a})}}),r.a.createElement(s.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Z,{session:t})}}),r.a.createElement(s.b,{path:"/profiles/:username",component:le}),r.a.createElement(s.b,{exact:!0,path:"/feed",render:function(){return r.a.createElement(ae,{session:t})}}),r.a.createElement(s.a,{to:"/"})))});c.a.render(r.a.createElement(ne.a,{client:ce},r.a.createElement(oe,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.5291ed8f.chunk.js.map